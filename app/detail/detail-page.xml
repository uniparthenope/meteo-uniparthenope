<Page loaded="pageLoaded" class="page" xmlns="http://www.nativescript.org/tns.xsd" xmlns:chart="nativescript-ui-chart">
    <ActionBar class="blue_background_action_bar">
        <Label class="" text="Dettagli" fontSize="20"></Label>
    </ActionBar>

    <ScrollView>
        <StackLayout class="p-20">
            <Label text="{{ place }}" fontSize="20" marginBottom="10"></Label>
            <chart:RadCartesianChart height="300">
                <chart:RadCartesianChart.series>
                    <chart:BarSeries
                            seriesName="Temp"
                            legendTitle="Temperatura"
                            items="{{ temp }}"
                            categoryProperty="key"
                            valueProperty="val"
                            showLabels="false">
                        <chart:BarSeries.labelStyle>
                            <chart:BarSeriesStyle fillColor="red" margin="10" fontStyle="Bold" textColor="White" />
                        </chart:BarSeries.labelStyle>
                        <chart:BarSeries.horizontalAxis>
                            <chart:CategoricalAxis labelFitMode="Rotate" />
                        </chart:BarSeries.horizontalAxis>
                        <chart:BarSeries.verticalAxis>
                            <chart:LinearAxis />
                        </chart:BarSeries.verticalAxis>
                    </chart:BarSeries>
                    <chart:LineSeries
                            seriesName="Press"
                            legendTitle="Pressione"
                            items="{{ press }}"
                            categoryProperty="key"
                            valueProperty="val"
                            showLabels="false">
                        <chart:LineSeries.labelStyle>
                            <chart:LineSeriesStyle margin="10" fontStyle="Bold" textColor="White" />
                        </chart:LineSeries.labelStyle>
                        <chart:LineSeries.horizontalAxis>
                            <chart:CategoricalAxis labelFitMode="Rotate" hidden="true" verticalLocation="Down" zPosition="0"/>
                        </chart:LineSeries.horizontalAxis>
                        <chart:LineSeries.verticalAxis>
                            <chart:LinearAxis horizontalLocation="Right"/>
                        </chart:LineSeries.verticalAxis>
                    </chart:LineSeries>
                </chart:RadCartesianChart.series>

                <chart:RadCartesianChart.palettes>
                    <chart:Palette seriesName="Temp">
                        <chart:Palette.entries>
                            <chart:PaletteEntry
                                    android:fillColor="red"
                                    ios:fillColor="red"
                                    strokeColor="red" strokeWidth="3"
                                    android:strokeWidth="6" />
                        </chart:Palette.entries>
                    </chart:Palette>

                    <chart:Palette seriesName="Press">
                        <chart:Palette.entries>
                            <chart:PaletteEntry
                                    android:fillColor="blue"
                                    ios:fillColor="blue"
                                    strokeColor="blue" strokeWidth="3"
                                    android:strokeWidth="6" />
                        </chart:Palette.entries>
                    </chart:Palette>
                </chart:RadCartesianChart.palettes>
            </chart:RadCartesianChart>

            <StackLayout xmlns:lv="nativescript-ui-autocomplete">
                <Label text="Seleziona posto: "></Label>
                <lv:RadAutoCompleteTextView id="autocomplete" textChanged="onTextChanged" items="{{ places }}" completionMode="Contains" suggestMode="Suggest" displayMode="Plain">
                <lv:RadAutoCompleteTextView.suggestionView>
                        <lv:SuggestionView suggestionViewHeight="100">
                            <lv:SuggestionView.suggestionItemTemplate>
                                <StackLayout orientation="vertical" padding="10">
                                    <Label text="{{ text }}"></Label>
                                </StackLayout>
                            </lv:SuggestionView.suggestionItemTemplate>
                        </lv:SuggestionView>
                    </lv:RadAutoCompleteTextView.suggestionView>
                </lv:RadAutoCompleteTextView>
            </StackLayout>

        </StackLayout>
    </ScrollView>
</Page>